<div class="row">
    <div class="column left" style="background-color:transparent;">
        <h2>Indexation</h2>
        <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()">
            Selected option : {{uploadForm.value.doctype}} , {{radioSelected}}
            <div class="form-group">
                <label class="my-1 mr-2" for="docType">Type de document</label>
                <select class="custom-select my-1 mr-sm-2" id="doctype" (change)="onSelectDocType()"
                 formControlName="doctype">
                    <option *ngFor="let type of doctype">{{type}}</option>
                </select>
            </div>

            <div class="form-group" *ngIf="selectedOption != 'Autres'">
                <label class="my-1 mr-2" for="selectTypeDetailed"
                    *ngIf="selectedOption == 'Facture client'">Client</label>

                <label class="my-1 mr-2" for="selectTypeDetailed"
                *ngIf="selectedOption == 'Salarié'">Salarié</label>
                <label class="my-1 mr-2" for="selectTypeDetailed"
                    *ngIf="selectedOption == 'Facture fournisseur' || selectedOption =='Devis' || selectedOption =='Bon de commande' || selectedOption == 'Bon de livraison' ">
                    Fournisseur
                </label>

                <select class="custom-select my-1 mr-sm-2" id="selectTypeDetailed" (change)="onSelectCFType()"
                    formControlName="doctype_detailed">
                    <ng-container *ngFor="let fournisseur of fournisseurs">
                        <option *ngIf="selectedOption == 'Facture fournisseur' || selectedOption =='Devis' || selectedOption =='Bon de commande' || selectedOption == 'Bon de livraison'">{{fournisseur}}</option>
                    </ng-container>
                    <ng-container *ngFor="let client of clients">
                        <option *ngIf="selectedOption == 'Facture client'" [ngValue]="client">{{client}}</option>
                    </ng-container>
                    <ng-container *ngFor="let salarie of salaries">
                        <option *ngIf="selectedOption == 'Salarié'" [ngValue]="salarie">{{salarie}}</option>
                    </ng-container>
                </select>
            </div>

            <div class="form-group" *ngIf="selectedOption == 'Salarié'">
                <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="exampleRadios" id="exampleRadios1" value="option1" (change)="onItemChange($event)" checked>
                    <label class="form-check-label" for="exampleRadios1">
                      Bulletin de paie
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="exampleRadios" id="exampleRadios2" value="option2" (change)="onItemChange($event)" >
                    <label class="form-check-label" for="exampleRadios2">
                      Contrat
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="exampleRadios" id="exampleRadios3" value="option3" (change)="onItemChange($event)" >
                    <label class="form-check-label" for="exampleRadios3">
                      RIB
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="exampleRadios" id="exampleRadios4" value="option4" (change)="onItemChange($event)" >
                    <label class="form-check-label" for="exampleRadios4">
                      Carte vitale
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="exampleRadios" id="exampleRadios5" value="option5" (change)="onItemChange($event)" >
                    <label class="form-check-label" for="exampleRadios5">
                      Autres
                    </label>
                  </div>
            </div>

            <div class="form-group">
                <label class="my-1 mr-2" for="docDate">Date du document</label>
                <input type="date" class="form-control" formControlName="docDate">
                <small id="dateHelp" class="form-text text-muted">S'il s'agit d'une facture, c'est la date d'édition de
                    la facture..</small>
            </div>

            <div class="row" *ngIf="selectedOption != 'Autres' && selectedOption != 'Salarié'">
                <div class="col">
                    <div class="form-group">
                        <label class="my-1 mr-2" for="montant_tva">Montant TVA (en €)</label>
                        <input type="number" class="form-control" formControlName="montant_tva">
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label class="my-1 mr-2" for="montant_ttc">Montant TTC (en €)</label>
                        <input type="number" class="form-control" formControlName="montant_ttc">
                    </div>
                </div>
            </div>
            <small>Seul les documents PDF sont acceptés.</small><br>
            <button type="submit" class="btn btn-primary" (click)="save()">Sauvegarder</button>
        </form>

    </div>
    <div class="column right" style="background-color:#bbb;">
        <h3>Fichier</h3>

        <div class="input-group">
            <div class="custom-file">
                <input type="file" accept="application/pdf" class="custom-file-input" id="inputFile"
                    (change)="showPreview($event)">
                <label class="custom-file-label" for="inputGroupFile02">Choisissez un document (pdf)</label>
            </div>
        </div>
        <pdf-viewer [src]="url" [render-text]="true" style="display: block;"></pdf-viewer>
    </div>
</div>